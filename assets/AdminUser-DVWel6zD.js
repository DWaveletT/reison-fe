import{d as $,r,S as K,e as N,f as G,m as j,k as e,w as t,b as a,L as d,aD as q,K as C,o as H,a as J,aE as L,ad as E,G as O,v as u,aF as i,t as V,aq as P,H as Q,I as f,J as R,M as g,ah as W,au as X,aG as Y,p as k,_ as Z}from"./index-mKRWm-IU.js";const ee={class:"user-list"},ae={class:"toolbar"},le=$({__name:"AdminUser",setup(te){const x=r([]),v=r(!1),y=r(1),w=r(0),_=r(""),p=r(!1),b=r(""),n=r({id:0,name:"",role:2,avatar:""}),D=s=>["管理员","裁判","用户"][s]||"未知",U=s=>["danger","warning",""][s]||"",m=async()=>{v.value=!0,v.value=!1},c=()=>{y.value=1,m()},h=()=>{b.value="新增用户",n.value={id:0,name:"",role:2,avatar:""},p.value=!0},T=s=>{},B=s=>{Y.confirm(`确定删除用户 "${s.name}"?`,"提示",{type:"warning"}).then(async()=>{})},S=s=>{n.value.avatar=s.url},I=async()=>{};return K(()=>{m()}),(s,l)=>{const M=E("el-tag"),z=E("el-pagination"),A=H("loading");return k(),N("div",ee,[G("div",ae,[e(a(d),{type:"primary",onClick:h},{default:t(()=>l[5]||(l[5]=[u("新增用户")])),_:1}),e(a(C),{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=o=>_.value=o),placeholder:"搜索用户",style:{width:"300px","margin-left":"10px"},clearable:"",onClear:c,onKeyup:q(c,["enter"])},{append:t(()=>[e(a(d),{icon:"search",onClick:c})]),_:1},8,["modelValue"])]),j((k(),J(a(L),{data:x.value,border:"",style:{width:"100%","margin-top":"20px"}},{default:t(()=>[e(a(i),{prop:"id",label:"ID",width:"80"}),e(a(i),{prop:"name",label:"名称"}),e(a(i),{prop:"role",label:"角色"},{default:t(({row:o})=>[e(M,{type:U(o.role)},{default:t(()=>[u(V(D(o.role)),1)]),_:2},1032,["type"])]),_:1}),e(a(i),{prop:"register",label:"注册时间"},{default:t(({row:o})=>[u(V(a(P)(o.register)),1)]),_:1}),e(a(i),{label:"操作",width:"180"},{default:t(({row:o})=>[e(a(d),{size:"small",onClick:F=>T(o)},{default:t(()=>l[6]||(l[6]=[u("编辑")])),_:2},1032,["onClick"]),e(a(d),{size:"small",type:"danger",onClick:F=>B(o)},{default:t(()=>l[7]||(l[7]=[u(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[A,v.value]]),e(z,{"current-page":y.value,"page-size":50,total:w.value,layout:"total, prev, pager, next, jumper",onSizeChange:m,onCurrentChange:m},null,8,["current-page","total"]),e(a(O),{modelValue:p.value,"onUpdate:modelValue":l[4]||(l[4]=o=>p.value=o),title:b.value},{footer:t(()=>[e(a(d),{onClick:l[3]||(l[3]=o=>p.value=!1)},{default:t(()=>l[8]||(l[8]=[u("取消")])),_:1}),e(a(d),{type:"primary",onClick:I},{default:t(()=>l[9]||(l[9]=[u("确认")])),_:1})]),default:t(()=>[e(a(Q),{model:n.value,"label-width":"100px"},{default:t(()=>[e(a(f),{label:"用户名"},{default:t(()=>[e(a(C),{modelValue:n.value.name,"onUpdate:modelValue":l[1]||(l[1]=o=>n.value.name=o)},null,8,["modelValue"])]),_:1}),e(a(f),{label:"角色"},{default:t(()=>[e(a(R),{modelValue:n.value.role,"onUpdate:modelValue":l[2]||(l[2]=o=>n.value.role=o)},{default:t(()=>[e(a(g),{label:"管理员",value:0}),e(a(g),{label:"裁判",value:1}),e(a(g),{label:"用户",value:2})]),_:1},8,["modelValue"])]),_:1}),e(a(f),{label:"头像"},{default:t(()=>[e(a(W),{action:"/api/upload","show-file-list":!1,"on-success":S},{default:t(()=>[e(a(X),{src:n.value.avatar},null,8,["src"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),ne=Z(le,[["__scopeId","data-v-a01e23b7"]]);export{ne as default};
