import{d as E,u as T,r as C,c as B,a as u,F as $,b as t,t as v,e as l,f as q,g as A,h as G,i as b,j as o,k as D,w as F,l as f,E as H,m as N,o as s,n as i,p as O,q as y,s as S,v as w,x as M,y as L,z as J,_ as R,A as K,B as Q,C as Y,D as W,G as X,H as I,I as Z,J as x,K as V,L as ee,M as U,N as le,O as te,P as se,Q as oe,R as ae}from"./index-yFsMD_nu.js";import{_ as h,C as ne}from"./ContestSidebar-B3qKlqLm.js";const ie={class:"problem-container"},re={class:"problem-header"},ue={class:"problem-title"},de={class:"problem-meta"},me={class:"time-limit"},pe={class:"memory-limit"},ce={class:"problem-type"},ve={class:"problem-content"},be={key:0,class:"problem-section"},fe={key:1,class:"problem-section"},ye={key:2,class:"problem-section"},_e={key:3,class:"problem-section"},ge={key:4,class:"problem-section"},ke=["onClick"],Ce={key:0},Ve=["onClick"],he={key:0},$e={key:5,class:"problem-section"},we={key:0,style:{height:"200px"}},Ee=E({__name:"ProblemContent",props:{problem:{},loading:{type:Boolean}},setup(g){const d=g,m=T(),e=C(m.userLang),r=B(()=>{if(d.problem===null)return null;const p=Object.keys(d.problem.statements);return p.length===0?null:(e.value in p||(e.value=p[0]),d.problem.statements[e.value])}),a=B(()=>{if(d.problem===null)return null;const p=Object.keys(d.problem.title);return p.length===0?null:(e.value in p||(e.value=p[0]),d.problem.title[e.value])}),n=C(0),P=async(p,c)=>{await navigator.clipboard.writeText(c),n.value=p,setTimeout(()=>{n.value==p&&(n.value=0)},1e3)};return(p,c)=>{const j=N("loading");return s(),u("div",ie,[p.problem&&r.value?(s(),u($,{key:0},[t("div",re,[t("h1",ue,v(a.value||"暂无数据"),1),t("div",de,[t("span",me,"时间限制: "+v(l(q)(p.problem.limitTime)),1),t("span",pe,"内存限制: "+v(l(A)(p.problem.limitMemory)),1),t("span",ce,v(l(G)(p.problem.type)),1)])]),t("div",ve,[r.value.background?(s(),u("div",be,[c[0]||(c[0]=t("h2",{class:"section-title"},"题目背景",-1)),o(h,{content:r.value.background},null,8,["content"])])):b("",!0),r.value.legend?(s(),u("div",fe,[c[1]||(c[1]=t("h2",{class:"section-title"},"题目描述",-1)),o(h,{content:r.value.legend},null,8,["content"])])):b("",!0),r.value.formatI?(s(),u("div",ye,[c[2]||(c[2]=t("h2",{class:"section-title"},"输入格式",-1)),o(h,{content:r.value.formatI},null,8,["content"])])):b("",!0),r.value.formatO?(s(),u("div",_e,[c[3]||(c[3]=t("h2",{class:"section-title"},"输出格式",-1)),o(h,{content:r.value.formatO},null,8,["content"])])):b("",!0),r.value.examples&&r.value.examples.length>0?(s(),u("div",ge,[c[4]||(c[4]=t("h2",{class:"section-title"},"样例",-1)),(s(!0),u($,null,D(r.value.examples,(k,_)=>(s(),u("div",{key:_,class:"example"},[o(l(J),{gutter:8},{default:i(()=>[o(l(O),{span:12,class:"data"},{default:i(()=>[t("h3",null,[y(" 输入 #"+v(_+1)+" ",1),t("a",{href:"#",onClick:S(z=>P(_+1,k.dataI||""),["prevent"]),class:"copy-link"},[n.value!=_+1?(s(),f(l(w),{key:0,icon:l(M)},null,8,["icon"])):(s(),f(l(w),{key:1,icon:l(L)},null,8,["icon"]))],8,ke)]),k.dataI?(s(),u("pre",Ce,v(k.dataI),1)):b("",!0)]),_:2},1024),o(l(O),{span:12,class:"data"},{default:i(()=>[t("h3",null,[y(" 输出 #"+v(_+1)+" ",1),t("a",{href:"#",onClick:S(z=>P(-_-1,k.dataO||""),["prevent"]),class:"copy-link"},[n.value!=-_-1?(s(),f(l(w),{key:0,icon:l(M)},null,8,["icon"])):(s(),f(l(w),{key:1,icon:l(L)},null,8,["icon"]))],8,Ve)]),k.dataO?(s(),u("pre",he,v(k.dataO),1)):b("",!0)]),_:2},1024)]),_:2},1024)]))),128))])):b("",!0),r.value.hint?(s(),u("div",$e,[c[5]||(c[5]=t("h2",{class:"section-title"},"提示",-1)),o(h,{content:r.value.hint},null,8,["content"])])):b("",!0)])],64)):(s(),u($,{key:1},[p.loading?F((s(),u("div",we,null,512)),[[j,!0]]):(s(),f(l(H),{key:1,description:"暂无题面"}))],64))])}}}),Pe=R(Ee,[["__scopeId","data-v-2ddc8337"]]),Ie={class:"dialog-footer"},Be=E({__name:"ProblemSubmit",props:K({problem:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const{codeLangs:d}=T().config,m=Q(g,"modelValue"),e=Y({lang:"",code:"",id:0});return(r,a)=>(s(),f(l(W),{modelValue:m.value,"onUpdate:modelValue":a[4]||(a[4]=n=>m.value=n),title:"提交代码",width:"800"},{footer:i(()=>[t("div",Ie,[o(l(V),{onClick:a[2]||(a[2]=n=>m.value=!1)},{default:i(()=>a[6]||(a[6]=[y("取消")])),_:1}),o(l(V),{type:"primary",onClick:a[3]||(a[3]=n=>m.value=!1)},{default:i(()=>a[7]||(a[7]=[y("提交")])),_:1})])]),default:i(()=>[o(l(X),{model:e,"label-width":"auto"},{default:i(()=>[o(l(I),{label:"语言"},{default:i(()=>[o(l(Z),{modelValue:e.lang,"onUpdate:modelValue":a[0]||(a[0]=n=>e.lang=n),class:"input-lang",placeholder:"Language",size:"large"},{default:i(()=>[(s(!0),u($,null,D(l(d),n=>(s(),f(l(ee),{key:n.id,label:n.description,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(l(I),{label:"代码"},{default:i(()=>[o(l(x),{modelValue:e.code,"onUpdate:modelValue":a[1]||(a[1]=n=>e.code=n),autosize:{minRows:10,maxRows:15},class:"input-code",type:"textarea",placeholder:"Your code here..."},null,8,["modelValue"])]),_:1}),o(l(I),{label:"或者"},{default:i(()=>[o(l(V),{type:"primary"},{default:i(()=>a[5]||(a[5]=[y("上传代码")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]))}}),Oe={class:"panel-container"},Se={key:0,class:"description-list"},Me={class:"description-item"},Le={class:"item-value"},Te={class:"description-item"},De={class:"item-value"},Fe={key:1,style:{height:"128px"}},Ne=E({__name:"ProblemPanel",props:{problem:{},result:{},loading:{type:Boolean}},setup(g){const d=C(!1);return(m,e)=>{const r=N("loading");return s(),u($,null,[t("div",Oe,[o(ne),o(l(U),null,{default:i(()=>[e[6]||(e[6]=t("h3",null,"题目信息",-1)),m.problem?(s(),u("div",Se,[t("div",Me,[e[2]||(e[2]=t("span",{class:"item-label"},"编号",-1)),t("span",Le,v(m.problem.id),1)]),t("div",Te,[e[3]||(e[3]=t("span",{class:"item-label"},"难度",-1)),t("span",De,v(m.problem.difficulty),1)]),e[4]||(e[4]=t("div",{class:"description-item"},[t("span",{class:"item-label"},"标签"),t("span",{class:"item-value"},"没写")],-1)),e[5]||(e[5]=t("div",{class:"description-item"},[t("span",{class:"item-label"},"来源"),t("span",{class:"item-value"},"没有")],-1))])):F((s(),u("div",Fe,null,512)),[[r,m.loading]])]),_:1}),o(l(V),{type:"primary",disabled:!m.problem,onClick:e[0]||(e[0]=a=>d.value=!0)},{default:i(()=>e[7]||(e[7]=[y("提交")])),_:1},8,["disabled"]),o(l(le),{fill:"","fill-ratio":40},{default:i(()=>[o(l(V),{plain:""},{default:i(()=>e[8]||(e[8]=[y("全部记录")])),_:1}),o(l(V),{plain:""},{default:i(()=>e[9]||(e[9]=[y("我的记录")])),_:1})]),_:1})]),m.problem?(s(),f(Be,{key:0,problem:m.problem,modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=a=>d.value=a)},null,8,["problem","modelValue"])):b("",!0)],64)}}}),Re=R(Ne,[["__scopeId","data-v-0567a34e"]]),ze=E({__name:"ViewProblemDetail",props:{pid:{}},setup(g){const d=C(null),m=C(null),e=C(!1);async function r(){d.value=null,e.value=!0,await ae({problem:a.pid}).then(n=>{d.value=n.problem,n.result&&(m.value=n.result)}).finally(()=>{e.value=!1})}const a=g;return te(()=>{r()}),se(a,()=>r()),(n,P)=>(s(),f(oe,null,{main:i(()=>[o(l(U),null,{default:i(()=>[o(Pe,{loading:e.value,problem:d.value},null,8,["loading","problem"])]),_:1})]),sidebar:i(()=>[o(Re,{loading:e.value,problem:d.value,result:m.value},null,8,["loading","problem","result"])]),_:1}))}});export{ze as default};
