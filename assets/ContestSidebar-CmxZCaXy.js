import{m as L}from"./markdown-C84M3WeR.js";import{d as $,r as g,Z as N,a as s,p as n,S as E,c as T,T as R,R as V,ay as j,l as b,i as r,e as i,N as z,q as d,F as x,b as l,ad as H,t as f,az as I,aA as P,v as y,m as D,L as F,O as q,$ as A,_ as O}from"./index-Byva4vat.js";const U=["innerHTML"],ne=$({__name:"MdRender",props:{content:{}},setup(k){const a=g(""),o=k;return N(()=>{L(o.content).then(e=>{a.value=e})}),(e,m)=>(n(),s("div",{class:"markdown-wrap",innerHTML:a.value},null,8,U))}}),Z={key:0,class:"contest-sidebar"},G={class:"contest-info"},J={class:"contest-time"},K={key:0},Q={key:1},W={class:"problem-badges"},X=["onClick"],Y=$({__name:"ContestSidebar",setup(k){const a=q(),o=E(),e=T(()=>o.currentContest),m=T(()=>o.currentRanking),u=g(0),_=g(1);function v(){e.value&&(u.value=Math.max(0,e.value.endTime.getTime()-Date.now()),_.value=e.value.endTime.getTime()-e.value.startTime.getTime())}R(e,v);function M(c){if(!m.value)return"";for(const t of m.value.results)if(t.problem==c)switch(t.judge){case"correct":return"status-success";case"incorrect":return"status-danger";default:return"status-warning"}return""}function S(c){e.value&&a.push(`/contest/${e.value.id}/problem/${c}`)}function B(){o.exit(),a.push("/contest")}let h;return V(()=>{v(),h=window.setInterval(v,1e3)}),j(()=>{clearInterval(h)}),(c,t)=>{const p=H("router-link");return e.value?(n(),s("div",Z,[r(i(z),null,{default:d(()=>[e.value?(n(),s(x,{key:0},[l("div",G,[r(p,{to:`/contest/${e.value.id}`},{default:d(()=>[l("h3",null,f(e.value.title),1)]),_:1},8,["to"]),l("div",J,[r(i(I),{percentage:100*(_.value-u.value)/_.value,"stroke-width":15,striped:"","show-text":!1},null,8,["percentage"]),l("div",null,[u.value>0?(n(),s("span",K,"剩余时间 "+f(i(P)(u.value)),1)):(n(),s("span",Q,"比赛已结束")),r(p,{class:"link-ranklist",to:`/contest/${e.value.id}/ranklist`},{default:d(()=>t[0]||(t[0]=[y(" 排行榜 ")])),_:1},8,["to"])])])]),l("div",W,[(n(!0),s(x,null,D(e.value.problems,(C,w)=>(n(),s("div",{key:w,class:A(["problem-badge",M(C)]),onClick:ee=>S(C)},f(w),11,X))),128))])],64)):b("",!0)]),_:1}),r(i(F),{type:"primary",onClick:B},{default:d(()=>t[1]||(t[1]=[y("退出比赛模式")])),_:1})])):b("",!0)}}}),ae=O(Y,[["__scopeId","data-v-90056acf"]]);export{ae as C,ne as _};
