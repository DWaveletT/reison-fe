import{d as $,r as g,c as d,F as V,a as l,t as f,u as t,f as F,b as N,e as L,g as v,h as a,i as B,w as M,j as b,E as R,k as O,o as s,l as n,m as E,n as y,p as P,q as h,s as S,v as I,x as z,_ as T,y as A,z as q,A as j,B as G,C as H,D as J,G as w,H as K,I as Q,J as _,K as Y,L as U,M as W,N as X,O as Z,P as x,Q as ee,R as te,S as le}from"./index-ByvejdJF.js";import{_ as C,C as se}from"./ContestSidebar-Ci8WyHxa.js";const ae={class:"problem-container"},oe={class:"problem-header"},ne={class:"problem-title"},ie={class:"problem-meta"},re={class:"time-limit"},de={class:"memory-limit"},ue={class:"problem-type"},me={class:"problem-content"},pe={key:0,class:"problem-section"},ce={key:1,class:"problem-section"},fe={key:2,class:"problem-section"},ve={key:3,class:"problem-section"},be={key:4,class:"problem-section"},ye=["onClick"],ge={key:0},_e=["onClick"],ke={key:0},Ce={key:5,class:"problem-section"},Ve={key:0,style:{height:"200px"}},he=$({__name:"ProblemContent",props:{problem:{},statement:{},language:{default:"en-US"},loading:{type:Boolean}},setup(k){const u=g(0),r=async(e,i)=>{await navigator.clipboard.writeText(i),u.value=e,setTimeout(()=>{u.value==e&&(u.value=0)},1e3)};return(e,i)=>{var m;const o=O("loading");return s(),d("div",ae,[e.problem&&e.statement?(s(),d(V,{key:0},[l("div",oe,[l("h1",ne,f(((m=e.problem.i18n[e.language])==null?void 0:m.title)||"Unknown"),1),l("div",ie,[l("span",re,"时间限制: "+f(t(F)(e.problem.limitTime)),1),l("span",de,"内存限制: "+f(t(N)(e.problem.limitMemory)),1),l("span",ue,f(t(L)(e.problem.type)),1)])]),l("div",me,[e.statement.background?(s(),d("div",pe,[i[0]||(i[0]=l("h2",{class:"section-title"},"题目背景",-1)),a(C,{content:e.statement.background},null,8,["content"])])):v("",!0),e.statement.legend?(s(),d("div",ce,[i[1]||(i[1]=l("h2",{class:"section-title"},"题目描述",-1)),a(C,{content:e.statement.legend},null,8,["content"])])):v("",!0),e.statement.formatI?(s(),d("div",fe,[i[2]||(i[2]=l("h2",{class:"section-title"},"输入格式",-1)),a(C,{content:e.statement.formatI},null,8,["content"])])):v("",!0),e.statement.formatO?(s(),d("div",ve,[i[3]||(i[3]=l("h2",{class:"section-title"},"输出格式",-1)),a(C,{content:e.statement.formatO},null,8,["content"])])):v("",!0),e.statement.examples&&e.statement.examples.length>0?(s(),d("div",be,[i[4]||(i[4]=l("h2",{class:"section-title"},"样例",-1)),(s(!0),d(V,null,B(e.statement.examples,(p,c)=>(s(),d("div",{key:c,class:"example"},[a(t(z),{gutter:8},{default:n(()=>[a(t(E),{span:12,class:"data"},{default:n(()=>[l("h3",null,[y(" 输入 #"+f(c+1)+" ",1),l("a",{href:"#",onClick:P(D=>r(c+1,p.dataI||""),["prevent"]),class:"copy-link"},[u.value!=c+1?(s(),b(t(h),{key:0,icon:t(S)},null,8,["icon"])):(s(),b(t(h),{key:1,icon:t(I)},null,8,["icon"]))],8,ye)]),p.dataI?(s(),d("pre",ge,f(p.dataI),1)):v("",!0)]),_:2},1024),a(t(E),{span:12,class:"data"},{default:n(()=>[l("h3",null,[y(" 输出 #"+f(c+1)+" ",1),l("a",{href:"#",onClick:P(D=>r(-c-1,p.dataO||""),["prevent"]),class:"copy-link"},[u.value!=-c-1?(s(),b(t(h),{key:0,icon:t(S)},null,8,["icon"])):(s(),b(t(h),{key:1,icon:t(I)},null,8,["icon"]))],8,_e)]),p.dataO?(s(),d("pre",ke,f(p.dataO),1)):v("",!0)]),_:2},1024)]),_:2},1024)]))),128))])):v("",!0),e.statement.hint?(s(),d("div",Ce,[i[5]||(i[5]=l("h2",{class:"section-title"},"提示",-1)),a(C,{content:e.statement.hint},null,8,["content"])])):v("",!0)])],64)):(s(),d(V,{key:1},[e.loading?M((s(),d("div",Ve,null,512)),[[o,!0]]):(s(),b(t(R),{key:1,description:"暂无题面"}))],64))])}}}),$e=T(he,[["__scopeId","data-v-d6748b33"]]),we={class:"dialog-footer"},Ee=$({__name:"ProblemSubmit",props:A({problem:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(k){const{langs:u}=q().config,r=j(k,"modelValue"),e=G({lang:"",code:"",id:0});return(i,o)=>(s(),b(t(H),{modelValue:r.value,"onUpdate:modelValue":o[4]||(o[4]=m=>r.value=m),title:"提交代码",width:"800"},{footer:n(()=>[l("div",we,[a(t(_),{onClick:o[2]||(o[2]=m=>r.value=!1)},{default:n(()=>o[6]||(o[6]=[y("取消")])),_:1}),a(t(_),{type:"primary",onClick:o[3]||(o[3]=m=>r.value=!1)},{default:n(()=>o[7]||(o[7]=[y("提交")])),_:1})])]),default:n(()=>[a(t(J),{model:e,"label-width":"auto"},{default:n(()=>[a(t(w),{label:"语言"},{default:n(()=>[a(t(K),{modelValue:e.lang,"onUpdate:modelValue":o[0]||(o[0]=m=>e.lang=m),class:"input-lang",placeholder:"Language",size:"large"},{default:n(()=>[(s(!0),d(V,null,B(t(u),m=>(s(),b(t(Y),{key:m.id,label:m.description,value:m.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(t(w),{label:"代码"},{default:n(()=>[a(t(Q),{modelValue:e.code,"onUpdate:modelValue":o[1]||(o[1]=m=>e.code=m),autosize:{minRows:10,maxRows:15},class:"input-code",type:"textarea",placeholder:"Your code here..."},null,8,["modelValue"])]),_:1}),a(t(w),{label:"或者"},{default:n(()=>[a(t(_),{type:"primary"},{default:n(()=>o[5]||(o[5]=[y("上传代码")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]))}}),Pe={class:"panel-container"},Se={key:0,class:"description-list"},Ie={class:"description-item"},Be={class:"item-value"},Me={class:"description-item"},Oe={class:"item-value"},Te={key:1,style:{height:"128px"}},Ue=$({__name:"ProblemPanel",props:{problem:{},loading:{type:Boolean}},setup(k){const u=g(!1);return(r,e)=>{const i=O("loading");return s(),d(V,null,[l("div",Pe,[a(se),a(t(U),null,{default:n(()=>[e[6]||(e[6]=l("h3",null,"题目信息",-1)),r.problem?(s(),d("div",Se,[l("div",Ie,[e[2]||(e[2]=l("span",{class:"item-label"},"编号",-1)),l("span",Be,f(r.problem.id),1)]),l("div",Me,[e[3]||(e[3]=l("span",{class:"item-label"},"难度",-1)),l("span",Oe,f(r.problem.difficulty),1)]),e[4]||(e[4]=l("div",{class:"description-item"},[l("span",{class:"item-label"},"标签"),l("span",{class:"item-value"},"没写")],-1)),e[5]||(e[5]=l("div",{class:"description-item"},[l("span",{class:"item-label"},"来源"),l("span",{class:"item-value"},"没有")],-1))])):M((s(),d("div",Te,null,512)),[[i,r.loading]])]),_:1}),a(t(_),{type:"primary",disabled:!r.problem,onClick:e[0]||(e[0]=o=>u.value=!0)},{default:n(()=>e[7]||(e[7]=[y("提交")])),_:1},8,["disabled"]),a(t(W),{fill:"","fill-ratio":40},{default:n(()=>[a(t(_),{plain:""},{default:n(()=>e[8]||(e[8]=[y("全部记录")])),_:1}),a(t(_),{plain:""},{default:n(()=>e[9]||(e[9]=[y("我的记录")])),_:1})]),_:1})]),r.problem?(s(),b(Ee,{key:0,problem:r.problem,modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o)},null,8,["problem","modelValue"])):v("",!0)],64)}}}),De=T(Ue,[["__scopeId","data-v-768e63eb"]]),Le=$({__name:"ViewProblemDetail",props:{pid:{}},setup(k){const u=g(null),r=g(null),e=g(!1),i=g(!1);async function o(){u.value=null,r.value=null,e.value=!0,await ee({problem:m.pid}).then(p=>{u.value=p.problem,te({statement:u.value.i18n["en-US"].statement}).then(c=>{r.value=c.statement}).finally(()=>{i.value=!1})}).catch(p=>{i.value=!1}).finally(()=>{e.value=!1})}const m=k;return X(()=>{o()}),Z(m,()=>o()),(p,c)=>(s(),b(x,null,{main:n(()=>[a(t(U),null,{default:n(()=>[a($e,{loading:i.value,problem:u.value,statement:r.value},null,8,["loading","problem","statement"])]),_:1})]),sidebar:n(()=>[a(t(le),{offset:16},{default:n(()=>[a(De,{loading:e.value,problem:u.value},null,8,["loading","problem"])]),_:1})]),_:1}))}});export{Le as default};
