import{d as I,u as D,r as V,c as B,a as d,F as w,b as s,t as c,e as t,f as A,g as G,h as H,i as v,j as a,k as F,w as N,l as b,E as J,m as R,o,n,p as L,q as _,s as M,v as E,x as O,y as T,z as K,_ as U,A as Q,B as Y,C as W,D as X,G as Z,H as P,I as x,J as ee,K as h,L as le,M as z,N as te,O as se,P as oe,Q as ae,R as ne,S as ie}from"./index-m04lDvHM.js";import{_ as $,C as re}from"./ContestSidebar-BCG0vccA.js";const ue={class:"problem-container"},de={class:"problem-header"},me={class:"problem-title"},pe={class:"problem-meta"},ce={class:"time-limit"},ve={class:"memory-limit"},be={class:"problem-type"},fe={class:"problem-content"},_e={key:0,class:"problem-section"},ye={key:1,class:"problem-section"},ge={key:2,class:"problem-section"},ke={key:3,class:"problem-section"},Ce={key:4,class:"problem-section"},Ve=["onClick"],he={key:0},$e=["onClick"],we={key:0},Ee={key:5,class:"problem-section"},Ie={key:0,style:{height:"200px"}},Pe=I({__name:"ProblemContent",props:{problem:{},loading:{type:Boolean}},setup(g){const m=g,i=D();function l(){if(m.problem!==null){const u=Object.keys(m.problem.statements);if(u.length!==0&&!(i.userLang in u))return u[0]}return i.userLang}const f=V(l()),e=B(()=>{var u;return(u=m.problem)==null?void 0:u.statements[f.value]}),r=B(()=>{var u;return((u=m.problem)==null?void 0:u.title[f.value])||"暂无题面"}),k=V(0),S=async(u,p)=>{await navigator.clipboard.writeText(p),k.value=u,setTimeout(()=>{k.value==u&&(k.value=0)},1e3)};return(u,p)=>{const j=R("loading");return o(),d("div",ue,[u.problem&&e.value?(o(),d(w,{key:0},[s("div",de,[s("h1",me,c(r.value||"暂无数据"),1),s("div",pe,[s("span",ce,"时间限制: "+c(t(A)(u.problem.limitTime)),1),s("span",ve,"内存限制: "+c(t(G)(u.problem.limitMemory)),1),s("span",be,c(t(H)(u.problem.type)),1)])]),s("div",fe,[e.value.background?(o(),d("div",_e,[p[0]||(p[0]=s("h2",{class:"section-title"},"题目背景",-1)),a($,{content:e.value.background},null,8,["content"])])):v("",!0),e.value.legend?(o(),d("div",ye,[p[1]||(p[1]=s("h2",{class:"section-title"},"题目描述",-1)),a($,{content:e.value.legend},null,8,["content"])])):v("",!0),e.value.formatI?(o(),d("div",ge,[p[2]||(p[2]=s("h2",{class:"section-title"},"输入格式",-1)),a($,{content:e.value.formatI},null,8,["content"])])):v("",!0),e.value.formatO?(o(),d("div",ke,[p[3]||(p[3]=s("h2",{class:"section-title"},"输出格式",-1)),a($,{content:e.value.formatO},null,8,["content"])])):v("",!0),e.value.examples&&e.value.examples.length>0?(o(),d("div",Ce,[p[4]||(p[4]=s("h2",{class:"section-title"},"样例",-1)),(o(!0),d(w,null,F(e.value.examples,(C,y)=>(o(),d("div",{key:y,class:"example"},[a(t(K),{gutter:8},{default:n(()=>[a(t(L),{span:12,class:"data"},{default:n(()=>[s("h3",null,[_(" 输入 #"+c(y+1)+" ",1),s("a",{href:"#",onClick:M(q=>S(y+1,C.dataI||""),["prevent"]),class:"copy-link"},[k.value!=y+1?(o(),b(t(E),{key:0,icon:t(O)},null,8,["icon"])):(o(),b(t(E),{key:1,icon:t(T)},null,8,["icon"]))],8,Ve)]),C.dataI?(o(),d("pre",he,c(C.dataI),1)):v("",!0)]),_:2},1024),a(t(L),{span:12,class:"data"},{default:n(()=>[s("h3",null,[_(" 输出 #"+c(y+1)+" ",1),s("a",{href:"#",onClick:M(q=>S(-y-1,C.dataO||""),["prevent"]),class:"copy-link"},[k.value!=-y-1?(o(),b(t(E),{key:0,icon:t(O)},null,8,["icon"])):(o(),b(t(E),{key:1,icon:t(T)},null,8,["icon"]))],8,$e)]),C.dataO?(o(),d("pre",we,c(C.dataO),1)):v("",!0)]),_:2},1024)]),_:2},1024)]))),128))])):v("",!0),e.value.hint?(o(),d("div",Ee,[p[5]||(p[5]=s("h2",{class:"section-title"},"提示",-1)),a($,{content:e.value.hint},null,8,["content"])])):v("",!0)])],64)):(o(),d(w,{key:1},[u.loading?N((o(),d("div",Ie,null,512)),[[j,!0]]):(o(),b(t(J),{key:1,description:"暂无题面"}))],64))])}}}),Se=U(Pe,[["__scopeId","data-v-155ac044"]]),Be={class:"dialog-footer"},Le=I({__name:"ProblemSubmit",props:Q({problem:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const{codeLangs:m}=D().config,i=Y(g,"modelValue"),l=W({lang:"",code:"",id:0});return(f,e)=>(o(),b(t(X),{modelValue:i.value,"onUpdate:modelValue":e[4]||(e[4]=r=>i.value=r),title:"提交代码",width:"800"},{footer:n(()=>[s("div",Be,[a(t(h),{onClick:e[2]||(e[2]=r=>i.value=!1)},{default:n(()=>e[6]||(e[6]=[_("取消")])),_:1}),a(t(h),{type:"primary",onClick:e[3]||(e[3]=r=>i.value=!1)},{default:n(()=>e[7]||(e[7]=[_("提交")])),_:1})])]),default:n(()=>[a(t(Z),{model:l,"label-width":"auto"},{default:n(()=>[a(t(P),{label:"语言"},{default:n(()=>[a(t(x),{modelValue:l.lang,"onUpdate:modelValue":e[0]||(e[0]=r=>l.lang=r),class:"input-lang",placeholder:"Language",size:"large"},{default:n(()=>[(o(!0),d(w,null,F(t(m),r=>(o(),b(t(le),{key:r.id,label:r.description,value:r.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(t(P),{label:"代码"},{default:n(()=>[a(t(ee),{modelValue:l.code,"onUpdate:modelValue":e[1]||(e[1]=r=>l.code=r),autosize:{minRows:10,maxRows:15},class:"input-code",type:"textarea",placeholder:"Your code here..."},null,8,["modelValue"])]),_:1}),a(t(P),{label:"或者"},{default:n(()=>[a(t(h),{type:"primary"},{default:n(()=>e[5]||(e[5]=[_("上传代码")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]))}}),Me={class:"panel-container"},Oe={key:0,class:"description-list"},Te={class:"description-item"},De={class:"item-value"},Fe={class:"description-item"},Ne={class:"item-value"},Re={key:1,style:{height:"128px"}},Ue=I({__name:"ProblemPanel",props:{problem:{},result:{},loading:{type:Boolean}},setup(g){const m=V(!1);return(i,l)=>{const f=R("loading");return o(),d(w,null,[s("div",Me,[a(re),a(t(z),null,{default:n(()=>[l[6]||(l[6]=s("h3",null,"题目信息",-1)),i.problem?(o(),d("div",Oe,[s("div",Te,[l[2]||(l[2]=s("span",{class:"item-label"},"编号",-1)),s("span",De,c(i.problem.id),1)]),s("div",Fe,[l[3]||(l[3]=s("span",{class:"item-label"},"难度",-1)),s("span",Ne,c(i.problem.difficulty),1)]),l[4]||(l[4]=s("div",{class:"description-item"},[s("span",{class:"item-label"},"标签"),s("span",{class:"item-value"},"没写")],-1)),l[5]||(l[5]=s("div",{class:"description-item"},[s("span",{class:"item-label"},"来源"),s("span",{class:"item-value"},"没有")],-1))])):N((o(),d("div",Re,null,512)),[[f,i.loading]])]),_:1}),a(t(h),{type:"primary",disabled:!i.problem,onClick:l[0]||(l[0]=e=>m.value=!0)},{default:n(()=>l[7]||(l[7]=[_("提交")])),_:1},8,["disabled"]),a(t(te),{fill:"","fill-ratio":40},{default:n(()=>[a(t(h),{plain:""},{default:n(()=>l[8]||(l[8]=[_("全部记录")])),_:1}),a(t(h),{plain:""},{default:n(()=>l[9]||(l[9]=[_("我的记录")])),_:1})]),_:1})]),i.problem?(o(),b(Le,{key:0,problem:i.problem,modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e)},null,8,["problem","modelValue"])):v("",!0)],64)}}}),ze=U(Ue,[["__scopeId","data-v-caa3b10e"]]),Ae=I({__name:"ViewProblemDetail",props:{pid:{},cid_str:{}},setup(g){const m=V(null),i=V(null),l=V(!1);async function f(){m.value=null,l.value=!0,await ie({problem:e.pid}).then(r=>{m.value=r.problem,r.result&&(i.value=r.result)}).finally(()=>{l.value=!1})}const e=g;return se(()=>{f(),e.cid_str&&oe().enter(parseInt(e.cid_str))}),ae(e,()=>f()),(r,k)=>(o(),b(ne,null,{main:n(()=>[a(t(z),null,{default:n(()=>[a(Se,{loading:l.value,problem:m.value},null,8,["loading","problem"])]),_:1})]),sidebar:n(()=>[a(ze,{loading:l.value,problem:m.value,result:i.value},null,8,["loading","problem","result"])]),_:1}))}});export{Ae as default};
