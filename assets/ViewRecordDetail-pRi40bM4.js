import{d as T,v as D,r as v,c as r,h as o,u as e,N as B,w as l,O as k,l as V,e as s,P as I,t as i,Q as L,F as N,i as M,z as P,f,R as U,S as $,V as z,j as y,T as E,a as u,U as A,_ as R,I as S,W as C,X as F,G as j,Y as G,K,L as O,M as Q}from"./index-BIx5kkjx.js";const W={class:"submission-detail-main"},X={key:0,class:"compile-info"},Y={class:"compile-message"},q={class:"testcase-container"},H=["onClick"],J={class:"testcase-id"},Z={class:"testcase-verdict"},x={class:"testcase-meta"},ss={key:0},es={key:1},ts={class:"code-container"},is={class:"code-meta"},as={class:"code-content"},os={key:0,class:"testcase-detail"},ls={class:"details"},ns={class:"testcase-data"},ds={class:"testcase-data"},us={class:"testcase-data"},cs=T({__name:"RecordMain",props:{submission:{}},setup(h){const{configVerdicts:m,configLangs:b}=D(),p=v("testcases"),_=v(!1),a=v(null),t=v(0);function w(c,n){a.value=c,t.value=n,_.value=!0}return(c,n)=>(u(),r("div",W,[o(e(B),{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=d=>p.value=d),class:"detail-tabs"},{default:l(()=>[o(e(k),{label:"编译信息",name:"compile"},{default:l(()=>[c.submission.compile?(u(),r("div",X,[o(e(I),{type:c.submission.verdict==="CE"?"error":"success",title:c.submission.verdict==="CE"?"编译错误":"编译成功",closable:!1},null,8,["type","title"]),s("pre",Y,i(c.submission.compile.message),1)])):(u(),V(e(L),{key:1,description:"暂无编译信息"}))]),_:1}),o(e(k),{label:"测试点",name:"testcases"},{default:l(()=>[s("div",q,[(u(!0),r(N,null,M(c.submission.detail,(d,g)=>(u(),r("div",{key:g,class:"testcase-item"},[s("div",{class:"testcase-badge",style:A({backgroundColor:`${e(m)[d.verdict].color}`}),onClick:Ns=>w(d,g)},[s("span",J,"#"+i(g+1),1),s("span",Z,i(e(m)[d.verdict].abbr),1),s("span",x,[d.time?(u(),r("span",ss,i(d.time)+"ms",1)):f("",!0),d.memory?(u(),r("span",es,i(e(E)(d.memory)),1)):f("",!0)])],12,H)]))),128))])]),_:1}),o(e(k),{label:"代码",name:"code"},{default:l(()=>[s("div",ts,[s("div",is,[s("span",null,"语言: "+i(e(b)[c.submission.lang].description),1),s("span",null,"代码长度: "+i(c.submission.length)+" bytes",1)]),s("pre",as,[s("code",null,i(c.submission.code),1)])])]),_:1})]),_:1},8,["modelValue"]),o(e(P),{modelValue:_.value,"onUpdate:modelValue":n[1]||(n[1]=d=>_.value=d),title:`测试点 #${t.value+1} 详情`,width:"800"},{default:l(()=>[a.value?(u(),r("div",os,[o(e(U),{column:4,border:""},{default:l(()=>[o(e($),{label:"状态"},{default:l(()=>[o(z,{verdict:a.value.verdict},null,8,["verdict"])]),_:1}),o(e($),{label:"用时"},{default:l(()=>[y(i(a.value.time)+"ms",1)]),_:1}),o(e($),{label:"内存"},{default:l(()=>[y(i(e(E)(a.value.memory)),1)]),_:1}),a.value.score!==void 0?(u(),V(e($),{key:0,label:"得分"},{default:l(()=>[y(i(a.value.score)+"分 ",1)]),_:1})):f("",!0)]),_:1}),s("div",ls,[n[2]||(n[2]=s("h3",null,"输入摘要",-1)),s("pre",ns,i(a.value.input),1),n[3]||(n[3]=s("h3",null,"输出摘要",-1)),s("pre",ds,i(a.value.output),1),n[4]||(n[4]=s("h3",null,"校验信息",-1)),s("pre",us,i(a.value.checker),1)])])):f("",!0)]),_:1},8,["modelValue","title"])]))}}),rs=R(cs,[["__scopeId","data-v-c845e57e"]]),ms={class:"panel-container"},ps={class:"description-list"},_s={class:"description-item"},bs={class:"item-value"},vs={class:"description-item"},fs={class:"item-value"},$s={class:"description-item"},ys={class:"item-value"},hs={class:"description-item"},gs={class:"item-value"},ks={class:"description-item"},Vs={class:"item-value"},Es={class:"description-item"},Ts={class:"item-value"},Cs={class:"description-item"},Ds={class:"item-value"},Rs={class:"description-item"},Ss={class:"item-value"},ws={class:"description-item"},Bs={class:"item-value"},Is=T({__name:"RecordSidebar",props:{submission:{}},setup(h){const{configLangs:m}=D(),b=G(),p=()=>{b.push(`/problem/${_.submission.problem}`)},_=h;return(a,t)=>(u(),r("div",ms,[o(e(S),null,{default:l(()=>[t[9]||(t[9]=s("h3",null,"评测详情",-1)),s("div",ps,[s("div",_s,[t[0]||(t[0]=s("span",{class:"item-label"},"编号",-1)),s("span",bs,i(a.submission.id),1)]),s("div",vs,[t[1]||(t[1]=s("span",{class:"item-label"},"提交用户",-1)),s("span",fs,i(a.submission.user),1)]),s("div",$s,[t[2]||(t[2]=s("span",{class:"item-label"},"关联试题",-1)),s("span",ys,i(a.submission.problem),1)]),s("div",hs,[t[3]||(t[3]=s("span",{class:"item-label"},"提交时间",-1)),s("span",gs,i(e(C)(a.submission.submission)),1)]),s("div",ks,[t[4]||(t[4]=s("span",{class:"item-label"},"评测时间",-1)),s("span",Vs,i(e(C)(a.submission.evaluation)),1)]),s("div",Es,[t[5]||(t[5]=s("span",{class:"item-label"},"最终用时",-1)),s("span",Ts,i(e(F)(a.submission.time)),1)]),s("div",Cs,[t[6]||(t[6]=s("span",{class:"item-label"},"评测空间",-1)),s("span",Ds,i(e(E)(a.submission.memory)),1)]),s("div",Rs,[t[7]||(t[7]=s("span",{class:"item-label"},"代码长度",-1)),s("span",Ss,i(a.submission.length),1)]),s("div",ws,[t[8]||(t[8]=s("span",{class:"item-label"},"评测语言",-1)),s("span",Bs,i(e(m)[a.submission.lang].description),1)])])]),_:1}),o(e(j),{type:"primary",onClick:p},{default:l(()=>t[10]||(t[10]=[y(" 查看试题 ")])),_:1})]))}}),Ls=R(Is,[["__scopeId","data-v-04417c36"]]),Ps=T({__name:"ViewRecordDetail",props:{rid:{}},setup(h){const m=K().dataSubmissionsDetail;return(b,p)=>(u(),V(O,null,{main:l(()=>[o(e(S),null,{default:l(()=>[o(rs,{submission:e(m)[0]},null,8,["submission"])]),_:1})]),sidebar:l(()=>[o(e(Q),{offset:16},{default:l(()=>[o(Ls,{submission:e(m)[0]},null,8,["submission"])]),_:1})]),_:1}))}});export{Ps as default};
