import{d as P,u as D,r as $,c as B,a as d,F as E,b as t,t as v,e as l,f as A,g as G,h as H,i as a,j as V,k as J,l as b,m as F,w as N,n as f,E as K,o as R,p as o,q as r,s as L,v as _,x as T,y as M,z as O,A as Q,_ as U,B as Y,C as W,D as X,G as Z,H as x,I,J as ee,K as le,L as h,M as te,N as z,O as se,P as oe,Q as ae,R as ne,S as ie,T as re,U as ue,V as de}from"./index-Byva4vat.js";import{_ as w,C as me}from"./ContestSidebar-CmxZCaXy.js";import"./markdown-C84M3WeR.js";const pe={class:"problem-container"},ce={class:"problem-header"},ve={class:"problem-title"},be={class:"problem-meta"},fe={class:"time-limit"},_e={class:"memory-limit"},ye={class:"problem-type"},ge={class:"functions"},ke={class:"problem-content"},Ce={key:0,class:"problem-section"},Ve={key:1,class:"problem-section"},$e={key:2,class:"problem-section"},he={key:3,class:"problem-section"},we={key:4,class:"problem-section"},Ee=["onClick"],Pe={key:0},Ie=["onClick"],Se={key:0},Be={key:5,class:"problem-section"},Le={key:0,style:{height:"200px"}},Te=P({__name:"ProblemContent",props:{problem:{},loading:{type:Boolean}},setup(g){const c=g,m=D();function n(){if(c.problem!==null){const u=Object.keys(c.problem.statements);if(u.length!==0&&!(m.userLang in u))return u[0]}return m.userLang}const s=$(n()),e=B(()=>{var u;return(u=c.problem)==null?void 0:u.statements[s.value]}),i=B(()=>{var u;return((u=c.problem)==null?void 0:u.title[s.value])||"暂无题面"}),k=$(0),S=async(u,p)=>{await navigator.clipboard.writeText(p),k.value=u,setTimeout(()=>{k.value==u&&(k.value=0)},1e3)};return(u,p)=>{const q=R("loading");return o(),d("div",pe,[u.problem&&e.value?(o(),d(E,{key:0},[t("div",ce,[t("h1",ve,v(i.value||"暂无数据"),1),t("div",be,[t("span",fe,"时间限制: "+v(l(A)(u.problem.limitTime)),1),t("span",_e,"内存限制: "+v(l(G)(u.problem.limitMemory)),1),t("span",ye,v(l(H)(u.problem.type)),1)]),t("div",ge,[a(l(V),{size:"2xl",icon:l(J)},null,8,["icon"])])]),t("div",ke,[e.value.background?(o(),d("div",Ce,[p[0]||(p[0]=t("h2",{class:"section-title"},"题目背景",-1)),a(w,{content:e.value.background},null,8,["content"])])):b("",!0),e.value.legend?(o(),d("div",Ve,[p[1]||(p[1]=t("h2",{class:"section-title"},"题目描述",-1)),a(w,{content:e.value.legend},null,8,["content"])])):b("",!0),e.value.formatI?(o(),d("div",$e,[p[2]||(p[2]=t("h2",{class:"section-title"},"输入格式",-1)),a(w,{content:e.value.formatI},null,8,["content"])])):b("",!0),e.value.formatO?(o(),d("div",he,[p[3]||(p[3]=t("h2",{class:"section-title"},"输出格式",-1)),a(w,{content:e.value.formatO},null,8,["content"])])):b("",!0),e.value.examples&&e.value.examples.length>0?(o(),d("div",we,[p[4]||(p[4]=t("h2",{class:"section-title"},"样例",-1)),(o(!0),d(E,null,F(e.value.examples,(C,y)=>(o(),d("div",{key:y,class:"example"},[a(l(Q),{gutter:8},{default:r(()=>[a(l(L),{span:12,class:"data"},{default:r(()=>[t("h3",null,[_(" 输入 #"+v(y+1)+" ",1),t("a",{href:"#",onClick:T(j=>S(y+1,C.dataI||""),["prevent"]),class:"copy-link"},[k.value!=y+1?(o(),f(l(V),{key:0,icon:l(M)},null,8,["icon"])):(o(),f(l(V),{key:1,icon:l(O)},null,8,["icon"]))],8,Ee)]),C.dataI?(o(),d("pre",Pe,v(C.dataI),1)):b("",!0)]),_:2},1024),a(l(L),{span:12,class:"data"},{default:r(()=>[t("h3",null,[_(" 输出 #"+v(y+1)+" ",1),t("a",{href:"#",onClick:T(j=>S(-y-1,C.dataO||""),["prevent"]),class:"copy-link"},[k.value!=-y-1?(o(),f(l(V),{key:0,icon:l(M)},null,8,["icon"])):(o(),f(l(V),{key:1,icon:l(O)},null,8,["icon"]))],8,Ie)]),C.dataO?(o(),d("pre",Se,v(C.dataO),1)):b("",!0)]),_:2},1024)]),_:2},1024)]))),128))])):b("",!0),e.value.hint?(o(),d("div",Be,[p[5]||(p[5]=t("h2",{class:"section-title"},"提示",-1)),a(w,{content:e.value.hint},null,8,["content"])])):b("",!0)])],64)):(o(),d(E,{key:1},[u.loading?N((o(),d("div",Le,null,512)),[[q,!0]]):(o(),f(l(K),{key:1,description:"暂无题面"}))],64))])}}}),Me=U(Te,[["__scopeId","data-v-74b4c3aa"]]),Oe={class:"dialog-footer"},De=P({__name:"ProblemSubmit",props:Y({problem:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const{codeLangs:c}=D().config,m=W(g,"modelValue"),n=X({lang:"",code:"",id:0});return(s,e)=>(o(),f(l(Z),{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=i=>m.value=i),title:"提交代码",width:"800"},{footer:r(()=>[t("div",Oe,[a(l(h),{onClick:e[2]||(e[2]=i=>m.value=!1)},{default:r(()=>e[6]||(e[6]=[_("取消")])),_:1}),a(l(h),{type:"primary",onClick:e[3]||(e[3]=i=>m.value=!1)},{default:r(()=>e[7]||(e[7]=[_("提交")])),_:1})])]),default:r(()=>[a(l(x),{model:n,"label-width":"auto"},{default:r(()=>[a(l(I),{label:"语言"},{default:r(()=>[a(l(ee),{modelValue:n.lang,"onUpdate:modelValue":e[0]||(e[0]=i=>n.lang=i),class:"input-lang",placeholder:"Language",size:"large"},{default:r(()=>[(o(!0),d(E,null,F(l(c),i=>(o(),f(l(te),{key:i.id,label:i.description,value:i.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(l(I),{label:"代码"},{default:r(()=>[a(l(le),{modelValue:n.code,"onUpdate:modelValue":e[1]||(e[1]=i=>n.code=i),autosize:{minRows:10,maxRows:15},class:"input-code",type:"textarea",placeholder:"Your code here..."},null,8,["modelValue"])]),_:1}),a(l(I),{label:"或者"},{default:r(()=>[a(l(h),{type:"primary"},{default:r(()=>e[5]||(e[5]=[_("上传代码")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]))}}),Fe={class:"panel-container"},Ne={class:"info-title"},Re={key:0,class:"description-list"},Ue={class:"description-item"},ze={class:"item-value"},qe={class:"description-item"},je={class:"item-value"},Ae={key:1,style:{height:"128px"}},Ge=P({__name:"ProblemPanel",props:{problem:{},result:{},edit:{type:Boolean,default:!1},loading:{type:Boolean}},setup(g){const c=se(),m=$(!1);return(n,s)=>{const e=R("loading");return o(),d(E,null,[t("div",Fe,[a(me),a(l(z),null,{default:r(()=>[t("h3",Ne,[s[3]||(s[3]=_(" 题目信息 ")),n.problem?(o(),f(l(V),{key:0,icon:l(oe),onClick:s[0]||(s[0]=i=>l(c).push(`/problem/${n.problem.id}/edit`))},null,8,["icon"])):b("",!0)]),n.problem?(o(),d("div",Re,[t("div",Ue,[s[4]||(s[4]=t("span",{class:"item-label"},"编号",-1)),t("span",ze,v(n.problem.id),1)]),t("div",qe,[s[5]||(s[5]=t("span",{class:"item-label"},"难度",-1)),t("span",je,v(n.problem.difficulty),1)]),s[6]||(s[6]=t("div",{class:"description-item"},[t("span",{class:"item-label"},"标签"),t("span",{class:"item-value"},"没写")],-1)),s[7]||(s[7]=t("div",{class:"description-item"},[t("span",{class:"item-label"},"来源"),t("span",{class:"item-value"},"没有")],-1))])):N((o(),d("div",Ae,null,512)),[[e,n.loading]])]),_:1}),a(l(h),{type:"primary",disabled:!n.problem,onClick:s[1]||(s[1]=i=>m.value=!0)},{default:r(()=>s[8]||(s[8]=[_("提交")])),_:1},8,["disabled"]),a(l(ae),{fill:"","fill-ratio":40},{default:r(()=>[a(l(h),{plain:""},{default:r(()=>s[9]||(s[9]=[_("全部记录")])),_:1}),a(l(h),{plain:""},{default:r(()=>s[10]||(s[10]=[_("我的记录")])),_:1})]),_:1})]),n.problem?(o(),f(De,{key:0,problem:n.problem,modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=i=>m.value=i)},null,8,["problem","modelValue"])):b("",!0)],64)}}}),He=U(Ge,[["__scopeId","data-v-f30b6e7a"]]),Ye=P({__name:"ViewProblemDetail",props:{pid:{},cid_str:{}},setup(g){const c=$(null),m=$(null),n=$(!1);async function s(){c.value=null,n.value=!0,await de({problem:e.pid}).then(i=>{c.value=i.problem,i.result&&(m.value=i.result)}).finally(()=>{n.value=!1})}const e=g;return ne(()=>{s(),e.cid_str&&ie().enter(parseInt(e.cid_str))}),re(e,()=>s()),(i,k)=>(o(),f(ue,null,{main:r(()=>[a(l(z),null,{default:r(()=>[a(Me,{loading:n.value,problem:c.value},null,8,["loading","problem"])]),_:1})]),sidebar:r(()=>[a(He,{loading:n.value,problem:c.value,result:m.value},null,8,["loading","problem","result"])]),_:1}))}});export{Ye as default};
